/**
 * UI Component For Creating Cron Job Syntax To Send To Server
 * @version v1.4.2 - 2016-06-24 * @link https://github.com/jacobscarter/angular-cron-jobs
 * @author Jacob Carter <jacob@ieksolutions.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("templates-angularcronjobs",["cronselection.html"]),angular.module("cronselection.html",[]).run(["$templateCache",function(a){a.put("cronselection.html",'<div class="cron-wrap">\n    <span>Every: </span>\n    <div class="cron-select-wrap">\n        <select class="cron-select" ng-model="myFrequency.base" ng-options="item.value as item.label for item in frequency"></select>\n    </div>\n\n	<div class="select-options">\n		<span ng-show="myFrequency.base == 4">on </span>\n        <div ng-show="myFrequency.base == 4" class="cron-select-wrap">\n            <select class="cron-select day-value" ng-model="myFrequency.dayValue" ng-options="(value | cronDayName) for value in dayValue"></select>\n        </div>\n		<span ng-show="myFrequency.base >= 5">on the </span>\n        <div ng-show="myFrequency.base >= 5" class="cron-select-wrap">\n            <select class="cron-select day-of-month-value" ng-model="myFrequency.dayOfMonthValue" ng-options="(value | cronNumeral) for value in dayOfMonthValue"></select>\n        </div>\n		<span ng-show="myFrequency.base == 6">of </span>\n        <div ng-show="myFrequency.base == 6" class="cron-select-wrap">\n            <select class="cron-select month-value" ng-model="myFrequency.monthValue" ng-options="(value | cronMonthName) for value in monthValue"></select>\n        </div>\n		<span ng-show="myFrequency.base >= 2">at </span>\n        <div ng-show="myFrequency.base >= 3" class="cron-select-wrap">\n            <select class="cron-select hour-value" ng-model="myFrequency.hourValue" ng-options="value for value in hourValue"></select>\n        </div>\n		<span ng-show="myFrequency.base >= 3"> : </span>\n        <div ng-show="myFrequency.base >= 2" class="cron-select-wrap">\n            <select class="cron-select minute-value" ng-model="myFrequency.minuteValue" ng-options="value for value in minuteValue"></select>\n        </div>\n		<span ng-show="myFrequency.base == 2"> past the hour</span>\n	</div>\n</div>\n')}]),angular.module("angular-cron-jobs",["templates-angularcronjobs"]),angular.module("angular-cron-jobs",["templates-angularcronjobs"]),angular.module("angular-cron-jobs").directive("cronSelection",["$translate","cronService",function(a,b){return{restrict:"EA",replace:!0,transclude:!0,scope:{config:"=",output:"=?",init:"=?"},templateUrl:function(a,b){return b.template||"cronselection.html"},link:function(c){c.i18n={};var d=a.instant(["cron.frequency.minute","cron.frequency.hour","cron.frequency.day","cron.frequency.week","cron.frequency.month","cron.frequency.year"]);c.i18n.minute=d["cron.frequency.minute"],c.i18n.hour=d["cron.frequency.hour"],c.i18n.day=d["cron.frequency.day"],c.i18n.week=d["cron.frequency.week"],c.i18n.month=d["cron.frequency.month"],c.i18n.year=d["cron.frequency.year"];var e=void 0,f=!1;if(c.frequency=[{value:1,label:c.i18n.minute},{value:2,label:c.i18n.hour},{value:3,label:c.i18n.day},{value:4,label:c.i18n.week},{value:5,label:c.i18n.month},{value:6,label:c.i18n.year}],angular.isDefined(c.init)&&(e=angular.copy(c.init),c.myFrequency=b.fromCron(c.init)),c.$watch("init",function(a){angular.isDefined(a)&&a&&a!==e&&(f=!0,c.myFrequency=b.fromCron(a))}),"object"==typeof c.config&&!c.config.length){var g=Object.keys(c.config.options);for(var h in g){var i=g[h].replace(/^allow/,""),j=g[h];if(!c.config.options[j])for(var k in c.frequency)c.frequency[k].label===i&&c.frequency.splice(k,1)}}c.minuteValue=[0,5,10,15,20,25,30,35,40,45,50,55],c.hourValue=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],c.dayOfMonthValue=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],c.dayValue=[1,2,3,4,5,6,7],c.monthValue=[1,2,3,4,5,6,7,8,9,10,11,12],c.$watch("myFrequency",function(a,d){!a||d&&a.base===d.base||f?a&&a.base&&d&&d.base&&(f=!1):(a&&a.base&&(a.base=parseInt(a.base)),a&&a.base&&a.base>=2&&(a.minuteValue=c.minuteValue[0]),a&&a.base&&a.base>=3&&(a.hourValue=c.hourValue[0]),a&&a.base&&4===a.base&&(a.dayValue=c.dayValue[0]),a&&a.base&&a.base>=5&&(a.dayOfMonthValue=c.dayOfMonthValue[0]),a&&a.base&&6===a.base&&(a.monthValue=c.monthValue[0])),c.output=b.setCron(a)},!0)}}}]).filter("cronNumeral",function(){return function(a){switch(a){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";case 21:return"21st";case 22:return"22nd";case 23:return"23rd";case 31:return"31st";case null:return null;default:return a+"th"}}}).filter("cronMonthName",function(a){return function(b){var c={},d=a.instant(["cron.month.january","cron.month.february","cron.month.march","cron.month.april","cron.month.may","cron.month.june","cron.month.july","cron.month.august","cron.month.september","cron.month.october","cron.month.november","cron.month.december"]);c.january=d["cron.month.january"],c.february=d["cron.month.february"],c.march=d["cron.month.march"],c.april=d["cron.month.april"],c.may=d["cron.month.may"],c.june=d["cron.month.june"],c.july=d["cron.month.july"],c.august=d["cron.month.august"],c.september=d["cron.month.september"],c.october=d["cron.month.october"],c.november=d["cron.month.november"],c.december=d["cron.month.december"];var e={1:c.january,2:c.february,3:c.march,4:c.april,5:c.may,6:c.june,7:c.july,8:c.august,9:c.september,10:c.october,11:c.november,12:c.december};return null!==b&&angular.isDefined(e[b])?e[b]:null}}).filter("cronDayName",function(a){return function(b){var c={},d=a.instant(["cron.day.sunday","cron.day.monday","cron.day.tuesday","cron.day.wednesday","cron.day.thursday","cron.day.friday","cron.day.saturday"]);c.sunday=d["cron.day.sunday"],c.monday=d["cron.day.monday"],c.tuesday=d["cron.day.tuesday"],c.wednesday=d["cron.day.wednesday"],c.thursday=d["cron.day.thursday"],c.friday=d["cron.day.friday"],c.saturday=d["cron.day.saturday"];var e={1:c.sunday,2:c.monday,3:c.tuesday,4:c.wednesday,5:c.thursday,6:c.friday,7:c.saturday};return null!==b&&angular.isDefined(e[b])?e[b]:null}}),angular.module("angular-cron-jobs").factory("cronService",function(){var a={};return a.setCron=function(a){var b=["0","*","*","*","*","?"];return a&&a.base&&a.base>=2&&(b[1]=void 0!==typeof a.minuteValue?a.minuteValue:"0"),a&&a.base&&a.base>=3&&(b[2]=void 0!==typeof a.hourValue?a.hourValue:"*"),a&&a.base&&4===a.base&&(b[3]="?",b[5]=a.dayValue),a&&a.base&&a.base>=5&&(b[3]=void 0!==typeof a.dayOfMonthValue?a.dayOfMonthValue:"?"),a&&a.base&&6===a.base&&(b[4]=void 0!==typeof a.monthValue?a.monthValue:"*"),b.join(" ")},a.fromCron=function(a){var b=a.replace(/\s+/g," ").split(" "),c={base:"1"};return"*"===b[1]&&"*"===b[2]&&"*"===b[3]&&"*"===b[4]&&"?"===b[5]?c.base=1:"*"===b[2]&&"*"===b[3]&&"*"===b[4]&&"?"===b[5]?c.base=2:"*"===b[3]&&"*"===b[4]&&"?"===b[5]?c.base=3:"?"===b[3]?c.base=4:"*"===b[4]&&"?"===b[5]?c.base=5:"?"===b[5]&&(c.base=6),"*"!==b[1]&&(c.minuteValue=parseInt(b[1])),"*"!==b[2]&&(c.hourValue=parseInt(b[2])),"*"!==b[3]&&"?"!==b[3]&&(c.dayOfMonthValue=parseInt(b[3])),"*"!==b[4]&&(c.monthValue=parseInt(b[4])),"*"!==b[5]&&"?"!==b[5]&&(c.dayValue=parseInt(b[5])),c},a});